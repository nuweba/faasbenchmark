service: sleepfunc

provider:
  name: google
  project: faastest
  credentials: /tmp/.gcloud/faasbenchmark.json
  stage: dev

plugins:
  - serverless-google-cloudfunctions
  
functions:
  sleep-node810-128mb:
    name: --sleep-node810-128mb
    # name = because of bug in serverless-google-cloudfunctions, name have to be {service}-{stage}-identifier.
    # serverless-google-cloudfunctions/info/lib/displayServiceInfo.js
    # const getFunctionNameInService = (funcName, service, stage) => {
    #   let funcNameInService = funcName;
    #   funcNameInService = funcNameInService.replace(service, '');
    #   funcNameInService = funcNameInService.replace(stage, '');
    #   funcNameInService = funcNameInService.slice(2, funcNameInService.length);
    #   return funcNameInService;
    # };
    description: sleep function 128mb
    runtime: nodejs8
    handler: test128
    memorySize: 128
    events: # All events associated with this function
      - http: path

  sleep-node810-256mb:
    name: --sleep-node810-256mb
    description: sleep function 256mb
    runtime: nodejs8
    handler: test256
    memorySize: 256
    events: # All events associated with this function
      - http: path

  sleep-node810-512mb:
    name: --sleep-node810-512mb
    description: sleep function 512mb
    runtime: nodejs8
    handler: test512
    memorySize: 512
    events: # All events associated with this function
      - http: path

  sleep-node810-1024mb:
    name: --sleep-node810-1024mb
    description: sleep function 1024mb
    runtime: nodejs8
    handler: test1024
    memorySize: 1024
    events: # All events associated with this function
      - http: path

  sleep-node810-2048mb:
    name: --sleep-node810-2048mb
    description: sleep function 2048mb
    runtime: nodejs8
    handler: test2048
    memorySize: 2048
    events: # All events associated with this function
      - http: path